<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Canvas-Chart</title>
    <script type="text/javascript" src="../js/jquery-3.1.1.js"></script>
    <script type="text/javascript" src="../js/draw.js"></script>

</head>
<body>
    <div>
        <a href="http://127.0.0.1:8080/exams/student.html">查询单个同学分数排名情况</a>
        <a href="http://127.0.0.1:8080/exams/students.html">查询全班分数排名情况</a>
        <a href="http://127.0.0.1:8080/exam/exams.html">查询班级考试整体信息</a>
        <a href="http://127.0.0.1:8080/exam/scorelist.html">查询班级考试整体信息</a>
        <form >
            student:<input type="text" id="studentId" name="studentId" /><br />
            <input id="findRank" type="button" value="查询排名" />
            <input id="findScore" type="button" value="查询成绩" />
            <input id="clear" type="button" value="清除" />
        </form>
    </div>

    <div style="margin:0 auto; width:1960px; height:1080px; border:1px solid #ccc;">
        <canvas id="myCanvas" width="1960" height="1080"></canvas>
    </div>
    <div style="margin:0 auto; width:1960px; height:1080px; border:1px solid #ccc;">
        <canvas id="myCanvas2" width="1960" height="1080"></canvas>
    </div>


<script type="text/javascript">
    $(document).ready(function(){
        $("#findRank").click(function(){
            let studentId = document.getElementById("studentId").value;
            $.getJSON(
                "student?sId="+studentId+"&rank=1",//服务器地址
                function(result) {
                    let data = result
                    line(data,"myCanvas")
                }
            );
        });
    });

    $(document).ready(function(){
        $("#findScore").click(function(){
            //按钮只可以被点击一次
            let studentId = document.getElementById("studentId").value;
            $.getJSON(
                "student?sId="+studentId+"&rank=0",//服务器地址
                function(result) {
                    let data = result
                    line(data,"myCanvas2")
                }
            );
        });
    });

    $(document).ready(function(){
        $("#clear").click(function(){
            clear("myCanvas");
            clear("myCanvas2");
        });
    });

</script>
</body>
</html>